@import '../lib/colors/colors';

$wm-elements-default: (

  foreground: (
    toggler: rgba(black, 0.87),
    link:    rgba(blue,  0.50),
    action:  rgba(blue,  0.50)
  ),
  
  background: (
  )
);

@mixin wm-icon-theme($theme) {
  // Restores the same $mat-menu-icon-margin value
  .mat-menu-item {
    .wm-icon { padding-right: 16px;}
  }
}

@mixin wm-toggler-theme($theme) {

  $foreground: map-get($theme, foreground);

  .wm-toggler div {
    background-color: map-get($foreground, toggler);
  }
}

@mixin wm-avatar-theme($theme) {

  $backgnd: map-get($theme, background);
  $primary: map-get($theme, primary);
  $accent : map-get($theme, accent);
  $warn   : map-get($theme, warn);

  .wm-avatar {

    svg, img { border: 2px solid map-get($backgnd, background) !important; }
    svg {

      &[color="primary"] { fill: mat-color($primary) !important; }
      &[color="accent"]  { fill: mat-color($accent) !important; }
      &[color="warn"]    { fill: mat-color($warn) !important; }

      background-color: map-get($backgnd, background) !important;
    }
  }
}

@mixin wm-inkbar-theme($theme) {

  $primary: map-get($theme, primary);
  $accent : map-get($theme, accent);
  $warn   : map-get($theme, warn);

  .wm-inkbar {

    .wm-inkbar-line {
 
      background-color: mat-color($primary);

      &[color="accent"] {
        background-color: mat-color($accent);
      }

      &[color="warn"] {
        background-color: mat-color($warn);
      }
    }
  }
}

@mixin wm-disclaimer-theme($theme) {

  $foreground: map-get($theme, foreground);

  .wm-disclaimer {
    a { color: map-get($foreground, link); }
    span { color: map-get($foreground, action); }
  }
}

@mixin wm-elements-theme($theme: $wm-elements-default) {
  // Merges the user styles with the default ones
  $theme: map_merge($wm-elements-default, $theme);
  // Applies the theme to the elements...
  @include wm-icon-theme($theme);
  @include wm-avatar-theme($theme);
  @include wm-toggler-theme($theme);
  @include wm-inkbar-theme($theme);
  @include wm-disclaimer-theme($theme);  
}