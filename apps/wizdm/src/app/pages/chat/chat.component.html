
<!-- Mode selection: Auto, Web and Native -->
<mat-radio-group fxLayout="column" fxLayoutAlign="center end" fxLayoutGap="5px" labelPosition="before" [value]="mode" (change)="mode = $event.value">
  <!-- Auto: detects the native support and acts accordingly -->
  <mat-radio-button value="auto">Auto <span class="mat-small">{{ native ? '(Native support detected)' : '(No native support)' }}</span></mat-radio-button>

  <!-- Web: Displays the emoji as images -->
  <mat-radio-button value="web">Web</mat-radio-button>

  <!-- Native: Displays the emoji as text (relying on the native OS capabilities) -->
  <mat-radio-button value="native">Native</mat-radio-button>
</mat-radio-group>

<section fxLayout="column" fxLayoutAlign="center center">

  <h1 wm-emoji-text="Send a message ðŸ˜‰" [mode]="mode" #message></h1>
  <br>

  <!-- Emoji Input for the Web -->
  <mat-form-field appearance="outline" *ngIf="message.behavior === 'web'">
    <mat-label>Emoji Input</mat-label>
    <wm-emoji-input matEmoji typein [value]="text" mode="web" newline="shift" placeholder="Type a message" (valueChange)="updateText($event)"></wm-emoji-input>
    <button mat-icon-button matSuffix (click)="send()"><wm-icon icon="send"></wm-icon></button>
    <mat-hint>Material Form Field applied to universal Emoji Input</mat-hint>
  </mat-form-field>

  <!-- Native Input for platforms supporting Emoji natively -->
  <mat-form-field appearance="outline" *ngIf="message.behavior === 'native'">
    <mat-label>Native Input</mat-label>
    <textarea matInput typein [value]="text" newline="shift" placeholder="Type a message" (valueChange)="updateText($event)" cdkTextareaAutosize cdkAutosizeMinRows="1"></textarea>
    <button mat-icon-button matSuffix (click)="send()"><wm-icon icon="send"></wm-icon></button>
    <mat-hint>Material Form Field applied to Native input</mat-hint>
  </mat-form-field>
 
  
  <wm-emoji-keyboard rows="5" [mode]="mode" [favorites]="keys" (keyPressed)="typein($event)"></wm-emoji-keyboard>

  <!--p class="debug">{{ decoded }}</p-->

</section>

<section fxLayout="column" fxLayoutAlign="center center">

  <h1>Emoji Texts</h1>

  <div fxFill fxLayout="row" [fxLayoutAlign]="even ? 'start' : 'end'" *ngFor="let msg of messages;let even = even">

  <wm-balloon [side]="even ? 'left' : 'right'" [color]="even ? 'primary' : 'accent'" class="mat-elevation-z3">

    <span [wm-emoji-text]="msg" [mode]="mode"></span>

  </wm-balloon>

  </div>

  <br><br>

</section>