<!-- @Levitates the header while scrolling up the page -->
<header fxFlex="0 0 auto" [@levitate]="scrolled">

  <!-- Navigation bar -->
  <wm-navbar [menuItems]="desktopMenu" [(toggler)]="menu" [userProfile]="signedIn" [userImage]="userImage">
  </wm-navbar>

  <!-- Action toolbar -->
  <wm-toolbar></wm-toolbar>
  
  <!-- Error message displayer -->
  <wm-errors [error]="error" (clear)="clearError()"></wm-errors>

</header>

<!-- Viewport container -->
<main fxFlex="1 1 auto" fxLayout="column">

  <!-- Mobile version Menu -->
  <wm-menu *ngIf="menu" [menuItems]="mobileMenu"></wm-menu>
  
  <!-- Content Viewport (scrollable) -->
  <wm-viewport fxFlex="1 1 auto" fxLayout="column" treshold="20" [(scrolled)]="scrolled"> 

    <!-- Router Outlet stretched to fit -->
    <div fxFlex="1 1 auto">
      <router-outlet (deactivate)="clearActions()">
      </router-outlet>
    </div>
    
    <!-- Footer always on the bottom -->
    <wm-footer fxFlex="0 0 auto" [language]="!signedIn"></wm-footer>
  </wm-viewport>
</main>

<!--wm-consent [ask]="askConsent" (granted)="consentGranted()"></wm-consent-->
  