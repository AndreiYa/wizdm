
$wm-markdown-default: (

  foreground: (
    blockquote:    rgba(gray,  0.87),
    inline-code:   rgba(red,   0.87),
    code:          rgba(black, 0.87),
    table:         rgba(black, 0.12),
    toc-delimiter: rgba(black, 0.12),
    link:          rgba(blue,  0.50)
  ),
  
  background: (
    blockquote:    rgba(black, 0.12),
    divider:       rgba(black, 0.12),
    inline-code:   rgba(gray,  0.87),
    block-code:    rgba(gray,  0.87),
    table-row:     rgba(black, 0.03),
  )
);

@mixin wm-markdown-init($theme: $wm-markdown-default) {

  // Merges the user styles with the default ones
  $theme: map_merge($wm-markdown-default, $theme);

  // This is meant to globally overwrite the markdown renderer styles
  .wm-markdown-theme {

    // Blockquote style
    blockquote {
      color: map-get(map-get($theme, foreground), blockquote) !important;
      border-left: 3px solid map-get(map-get($theme, background), blockquote) !important;
    }

    // Page breaks
    hr {
      border-top-color: map-get(map-get($theme, background), divider) !important;
    }

    // Links
    a {
      color: map-get(map-get($theme, foreground), link) !important;
    }

    // Inline code
    code {
      background-color: map-get(map-get($theme, background), inline-code) !important;
      color: map-get(map-get($theme, foreground), inline-code) !important;
    }

    // Code blocks
    pre {
      color: map-get(map-get($theme, foreground), code) !important;
      border: 1px solid map-get(map-get($theme, background), block-code) !important;
    }

    // Table style
    table {
      th, td {
        border: 1px solid map-get(map-get($theme, foreground), table) !important;
      }

      tr:nth-child(2n) {
        background-color: map-get(map-get($theme, background), table-row) !important;
      }
    }
  }
}