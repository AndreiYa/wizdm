
<!-- Loops on the items -->
<ng-container *ngFor="let item of items">

  <!-- Renders the single items as buttons -->
  <button mat-button class="w100 selected" [color]="hasSelection(item) ? color : ''" (click)="onItemClick(item)">

    <span fxLayout="row" fxLayoutAlign="space-between center">

      <!-- Renders the label with the proper indentation level -->
      <span fxFlex="1 1 auto">{{ item.label }}</span>

      <!-- Renders the chrevron in case the item has children -->
      <mat-icon [class.opened]="isOpened(item)" fxFlex="0 0 auto" *ngIf="hasItems(item)">chevron_right</mat-icon>

    </span>
  
  </button>

  <!-- Renders the sub items, if any -->
  <div [wm-toc]="item.items" class="w100" [color]="color" [(selected)]="selected" (navigate)="navigate.emit($event)" [@topic]="isOpened(item)"></div>

</ng-container>